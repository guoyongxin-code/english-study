<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>è‹±è¯­å­¦ä¹ å°ç½‘é¡µ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    :root {
      --bg: #f5f7fb;
      --card-bg: #ffffff;
      --accent: #4f46e5;
      --accent-light: #e0e7ff;
      --text-main: #111827;
      --text-sub: #6b7280;
      --border-soft: #e5e7eb;
      --danger: #dc2626;
      --success: #16a34a;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: var(--bg);
      color: var(--text-main);
      line-height: 1.6;
    }

    header {
      background: linear-gradient(135deg, #4f46e5, #6366f1);
      color: #fff;
      padding: 20px 16px 32px;
      box-shadow: 0 8px 24px rgba(15, 23, 42, 0.35);
    }

    header .title {
      max-width: 960px;
      margin: 0 auto;
    }

    header h1 {
      font-size: 1.8rem;
      margin-bottom: 8px;
    }

    header p {
      font-size: 0.95rem;
      color: #e5e7eb;
    }

    main {
      max-width: 960px;
      margin: -24px auto 24px;
      padding: 0 12px 24px;
    }

    .grid {
      display: grid;
      grid-template-columns: 2fr 1.7fr;
      gap: 16px;
      margin-bottom: 16px;
    }

    @media (max-width: 768px) {
      .grid {
        grid-template-columns: 1fr;
      }
    }

    .card {
      background: var(--card-bg);
      border-radius: 18px;
      padding: 18px 16px 16px;
      box-shadow: 0 10px 30px rgba(15, 23, 42, 0.08);
      border: 1px solid var(--border-soft);
    }

    .card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 10px;
    }

    .card-title {
      font-size: 1.05rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .badge {
      font-size: 0.72rem;
      padding: 2px 8px;
      border-radius: 999px;
      background: var(--accent-light);
      color: var(--accent);
    }

    .card-sub {
      font-size: 0.8rem;
      color: var(--text-sub);
    }

    .word-main {
      margin-top: 4px;
      margin-bottom: 10px;
    }

    .word-en {
      font-size: 1.4rem;
      font-weight: 700;
      margin-bottom: 4px;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .phonetic {
      font-size: 0.95rem;
      color: var(--text-sub);
      font-style: italic;
    }

    .word-cn {
      font-size: 0.95rem;
      margin-bottom: 4px;
    }

    .word-tag {
      font-size: 0.75rem;
      color: var(--accent);
      background: var(--accent-light);
      display: inline-block;
      padding: 2px 8px;
      border-radius: 999px;
      margin-bottom: 4px;
    }

    .examples {
      font-size: 0.9rem;
      background: #f9fafb;
      border-radius: 12px;
      padding: 8px 10px;
      border: 1px dashed var(--border-soft);
    }

    .examples p {
      margin-bottom: 4px;
    }

    .examples p:last-child {
      margin-bottom: 0;
    }

    .btn-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 10px;
    }

    button {
      border: none;
      cursor: pointer;
      border-radius: 999px;
      padding: 6px 12px;
      font-size: 0.85rem;
      font-weight: 500;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: transform 0.1s ease, box-shadow 0.1s ease, background 0.15s ease;
      background: #e5e7eb;
      color: #111827;
    }

    button:hover {
      transform: translateY(-1px);
      box-shadow: 0 5px 12px rgba(15, 23, 42, 0.15);
    }

    button:active {
      transform: translateY(0);
      box-shadow: none;
    }

    .btn-primary {
      background: var(--accent);
      color: #fff;
    }

    .btn-outline {
      background: transparent;
      border: 1px solid var(--border-soft);
      color: var(--text-main);
    }

    .btn-ghost {
      background: transparent;
      color: var(--text-sub);
      padding-inline: 4px;
      box-shadow: none;
    }

    .btn-ghost:hover {
      background: #f3f4f6;
      box-shadow: none;
      transform: none;
    }

    .section-label {
      font-size: 0.8rem;
      color: var(--text-sub);
      margin-bottom: 4px;
    }

    .quiz-question {
      font-size: 0.95rem;
      margin-bottom: 10px;
    }

    .quiz-options {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px;
      margin-bottom: 8px;
    }

    @media (max-width: 480px) {
      .quiz-options {
        grid-template-columns: 1fr;
      }
    }

    .option-btn {
      width: 100%;
      justify-content: center;
      background: #f3f4f6;
    }

    .quiz-result {
      font-size: 0.9rem;
      margin-top: 4px;
      min-height: 22px;
    }

    .quiz-result.correct {
      color: var(--success);
    }

    .quiz-result.wrong {
      color: var(--danger);
    }

    textarea {
      width: 100%;
      min-height: 80px;
      border-radius: 12px;
      border: 1px solid var(--border-soft);
      padding: 8px 10px;
      font-size: 0.88rem;
      resize: vertical;
      outline: none;
      font-family: inherit;
      background: #f9fafb;
    }

    textarea:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 1px var(--accent-light);
      background: #ffffff;
    }

    .sentence-key {
      font-size: 0.9rem;
      background: #eff6ff;
      border-radius: 10px;
      padding: 6px 8px;
      margin-bottom: 6px;
      border: 1px solid #dbeafe;
    }

    .sentence-key span {
      display: inline-block;
      margin-right: 8px;
    }

    .sentence-answer {
      margin-top: 6px;
      font-size: 0.9rem;
      color: var(--text-sub);
      display: none;
    }

    footer {
      text-align: center;
      font-size: 0.78rem;
      color: var(--text-sub);
      padding: 8px 0 20px;
    }
  </style>
</head>
<body>
<header>
  <div class="title">
    <h1>ğŸ“š è‹±è¯­å­¦ä¹ å°ç«™</h1>
    <p>æ¯å¤©èƒŒä¸€ç‚¹å•è¯ï¼Œåšä¸€ç‚¹å°ç»ƒä¹ ï¼Œè®©è‹±è¯­æ‚„æ‚„è¿›æ­¥ã€‚</p>
  </div>
</header>

<main>
  <div class="grid">
    <!-- å·¦ä¾§ï¼šå•è¯å¡ç‰‡ + é€ å¥ç»ƒä¹  -->
    <section class="card">
      <div class="card-header">
        <div>
          <div class="card-title">
            ğŸ¯ ä»Šæ—¥å•è¯å¡
            <span class="badge">Vocabulary</span>
          </div>
          <div class="card-sub">ç‚¹å‡»ã€Œæ¢ä¸€ä¸ªã€éšä¾¿æŠ½ä¸€ä¸ªå•è¯ç»ƒä¹ ã€‚</div>
        </div>
        <button class="btn-ghost" id="btn-refresh-word" title="éšæœºå•è¯">
          ğŸ”„ æ¢ä¸€ä¸ª
        </button>
      </div>

      <div class="word-main">
        <div class="word-en" id="word-en">compact</div>
        <div class="phonetic" id="word-phonetic">/kÉ™mËˆpÃ¦kt/</div>
        <div class="word-cn" id="word-cn">ç´§å‡‘çš„ï¼Œå°å·§çš„</div>
        <div class="word-tag" id="word-tag">å½¢å®¹è¯ Â· æè¿°ç‰©å“</div>
      </div>

      <div class="section-label">ä¾‹å¥ Â· Example</div>
      <div class="examples">
        <p id="example-en">The gadget is compact and portable, so you can take it anywhere.</p>
        <p id="example-cn">è¿™ä¸ªå°å·¥å…·ç´§å‡‘ä¾¿æºï¼Œä½ å¯ä»¥éšèº«æºå¸¦ã€‚</p>
      </div>

      <div class="btn-row">
        <button class="btn-primary" id="btn-speak-word">ğŸ”Š è¯»å•è¯</button>
        <button class="btn-outline" id="btn-speak-sentence">ğŸ”Š è¯»ä¾‹å¥</button>
      </div>

      <hr style="margin: 14px 0; border: none; border-top: 1px dashed #e5e7eb;">

      <div class="card-header" style="margin-bottom: 8px;">
        <div>
          <div class="card-title">
            âœï¸ è·Ÿæˆ‘é€ å¥
            <span class="badge">Writing</span>
          </div>
          <div class="card-sub">ç”¨ä¸Šé¢çš„å•è¯ï¼Œå†™ä¸€å¥è‡ªå·±çš„è‹±æ–‡å¥å­ã€‚</div>
        </div>
      </div>

      <div class="section-label">æç¤º Â· å¯ä»¥å‚è€ƒç»“æ„</div>
      <div class="sentence-key" id="sentence-key">
        <span>ç»“æ„ï¼šThe + åè¯ + is + å½¢å®¹è¯.</span>
        <span>ä¾‹ï¼šThe room is compact and comfortable.</span>
      </div>

      <textarea id="sentence-input" placeholder="è¯•ç€ç”¨è‹±æ–‡å†™ä¸€å¥è¯ï¼ˆå¯ä»¥æ··ä¸€ç‚¹ä¸­æ–‡ï¼Œä¸è¦æœ‰å‹åŠ›ï¼‰"></textarea>
      <div class="btn-row" style="margin-top: 8px;">
        <button class="btn-outline" id="btn-show-sample">ğŸ’¡ çœ‹ç¤ºèŒƒå¥</button>
        <button class="btn-outline" id="btn-clear-sentence">ğŸ§¹ æ¸…ç©º</button>
        <button class="btn-outline" id="btn-speak-my-sentence">ğŸ”Š è¯»æˆ‘å†™çš„å¥å­</button>
      </div>
      <div class="sentence-answer" id="sentence-answer">
        ç¤ºä¾‹å¥ï¼šThe device is compact and portable, so it is perfect for travel.
      </div>
    </section>

    <!-- å³ä¾§ï¼šé€‰æ‹©é¢˜å°æµ‹ -->
    <section class="card">
      <div class="card-header">
        <div>
          <div class="card-title">
            âœ… å°æµ‹éªŒï¼šé€‰å•è¯
            <span class="badge">Quiz</span>
          </div>
          <div class="card-sub">æ ¹æ®ä¸­æ–‡æ„æ€ï¼Œé€‰æ‹©æ­£ç¡®çš„è‹±æ–‡å•è¯ã€‚</div>
        </div>
        <button class="btn-ghost" id="btn-new-question" title="æ–°é¢˜ç›®">
          â• æ–°é¢˜ç›®
        </button>
      </div>

      <div class="quiz-question" id="quiz-question">
        å“ªä¸ªè‹±æ–‡å•è¯å¯¹åº”ä¸‹é¢çš„ä¸­æ–‡æ„æ€ï¼Ÿ<br>
        <strong>ç´§å‡‘çš„ï¼Œå°å·§çš„ï¼›ä¾¿äºæºå¸¦çš„</strong>
      </div>

      <div class="quiz-options" id="quiz-options">
        <!-- JS åŠ¨æ€ç”Ÿæˆé€‰é¡¹ -->
      </div>

      <div class="quiz-result" id="quiz-result"></div>

      <div class="btn-row" style="margin-top: 10px;">
        <button class="btn-outline" id="btn-show-explain">ğŸ“˜ æ˜¾ç¤ºä¸­æ–‡è§£é‡Š</button>
        <button class="btn-outline" id="btn-speak-question">ğŸ”Š è¯»é¢˜ç›®</button>
      </div>

      <div class="section-label" style="margin-top: 10px;">å°è´´å£«</div>
      <p style="font-size: 0.8rem; color: var(--text-sub);">
        ä¸ç”¨è¿½æ±‚ä¸€æ¬¡å°±è®°ä½ï¼Œå¤šçœ‹å‡ éã€å¤šåšå‡ æ¬¡å°æµ‹ï¼Œå¤§è„‘ä¼šæ…¢æ…¢â€œå¸®ä½ èƒŒå•è¯â€ã€‚ğŸ˜‰
      </p>
    </section>
  </div>

  <!-- åº•éƒ¨ï¼šå°è®¡åˆ’ -->
  <section class="card">
    <div class="card-header">
      <div>
        <div class="card-title">
          ğŸŒ± å­¦ä¹ å°è®¡åˆ’
          <span class="badge">Daily Plan</span>
        </div>
        <div class="card-sub">å¯ä»¥æŒ‰è¿™ä¸ªèŠ‚å¥æ¥ï¼š5 åˆ†é’Ÿå•è¯ + 5 åˆ†é’Ÿå°æµ‹ + 5 åˆ†é’Ÿé€ å¥ã€‚</div>
      </div>
    </div>
    <ul style="font-size: 0.88rem; color: var(--text-sub); margin-left: 1.2em; margin-top: 4px;">
      <li>æ¯å¤©éšæœºæŠ½ 3ï½5 ä¸ªå•è¯ï¼Œç‚¹å‡»ğŸ”Š å¤šå¬å‡ éå‘éŸ³ã€‚</li>
      <li>æ¯ä¸ªå•è¯è‡³å°‘åš 1ï½2 æ¬¡é€‰æ‹©é¢˜ï¼Œçœ‹è‡ªå·±èƒ½ä¸èƒ½é€‰å¯¹ã€‚</li>
      <li>ç”¨å•è¯å†™ä¸€å¥è‡ªå·±çš„å¥å­ï¼ˆå¯ä»¥å’Œç”Ÿæ´»ã€å·¥ä½œã€å­¦ä¹ ç›¸å…³ï¼‰ã€‚</li>
    </ul>
  </section>
</main>

<footer>
  ç®€å•åšæŒï¼Œèƒœè¿‡å¤æ‚æ”¾å¼ƒã€‚æ¯å¤© 10ï½15 åˆ†é’Ÿå°±å¾ˆæ£’å•¦ ğŸŒŸ
</footer>

<script>
  // ===== è¯æ±‡æ•°æ® =====
  const vocabList = [
    {
      word: "compact",
      phonetic: "/kÉ™mËˆpÃ¦kt/",
      cn: "ç´§å‡‘çš„ï¼Œå°å·§çš„",
      tag: "å½¢å®¹è¯ Â· æè¿°å¤§å°",
      exampleEn: "The gadget is compact and portable, so you can take it anywhere.",
      exampleCn: "è¿™ä¸ªå°å·¥å…·ç´§å‡‘ä¾¿æºï¼Œä½ å¯ä»¥éšèº«æºå¸¦ã€‚",
      sentenceSample: "The device is compact and portable, so it is perfect for travel.",
      pattern: "The + åè¯ + is + å½¢å®¹è¯."
    },
    {
      word: "portable",
      phonetic: "/ËˆpÉ”ËtÉ™bl/",
      cn: "ä¾¿äºæºå¸¦çš„ï¼Œè½»ä¾¿çš„",
      tag: "å½¢å®¹è¯ Â· æè¿°ä¾¿åˆ©",
      exampleEn: "This speaker is light and portable, ideal for outdoor parties.",
      exampleCn: "è¿™ä¸ªéŸ³ç®±è½»ä¾¿æ˜“æºï¼Œéå¸¸é€‚åˆæˆ·å¤–èšä¼šã€‚",
      sentenceSample: "The laptop is portable enough for me to carry to every class.",
      pattern: "ä¸»è¯­ + be + portable + enough for + äºº + to do..."
    },
    {
      word: "spacious",
      phonetic: "/ËˆspeÉªÊƒÉ™s/",
      cn: "å®½æ•çš„ï¼Œç©ºé—´å¤§çš„",
      tag: "å½¢å®¹è¯ Â· æè¿°ç©ºé—´",
      exampleEn: "The living room is bright and spacious.",
      exampleCn: "è¿™ä¸ªå®¢å…æ˜äº®åˆå®½æ•ã€‚",
      sentenceSample: "The office is spacious enough for ten people to work comfortably.",
      pattern: "ä¸»è¯­ + be + spacious enough for + äºº + to do..."
    },
    {
      word: "reliable",
      phonetic: "/rÉªËˆlaÉªÉ™bl/",
      cn: "å¯é çš„ï¼Œå€¼å¾—ä¿¡èµ–çš„",
      tag: "å½¢å®¹è¯ Â· æè¿°äºº/ç‰©",
      exampleEn: "She is a reliable colleague who always finishes her work on time.",
      exampleCn: "å¥¹æ˜¯ä¸€ä½å¯é çš„åŒäº‹ï¼Œæ€»èƒ½æŒ‰æ—¶å®Œæˆå·¥ä½œã€‚",
      sentenceSample: "This app is reliable and rarely crashes.",
      pattern: "ä¸»è¯­ + be + reliable and + å½¢å®¹è¯."
    },
    {
      word: "durable",
      phonetic: "/ËˆdjÊŠÉ™rÉ™bl/",
      cn: "è€ç”¨çš„ï¼Œç»“å®çš„",
      tag: "å½¢å®¹è¯ Â· æè¿°è´¨é‡",
      exampleEn: "These shoes are durable enough for daily use.",
      exampleCn: "è¿™åŒé‹è¶³å¤Ÿè€ç©¿ï¼Œé€‚åˆæ—¥å¸¸ä½¿ç”¨ã€‚",
      sentenceSample: "The battery is durable and can last for a whole day.",
      pattern: "ä¸»è¯­ + be + durable and can + åŠ¨è¯..."
    },
    {
      word: "efficient",
      phonetic: "/ÉªËˆfÉªÊƒnt/",
      cn: "é«˜æ•ˆçš„ï¼Œæ•ˆç‡é«˜çš„",
      tag: "å½¢å®¹è¯ Â· æè¿°æ•ˆç‡",
      exampleEn: "A good planner can help you work in a more efficient way.",
      exampleCn: "ä¸€ä¸ªå¥½çš„è®¡åˆ’å¯ä»¥å¸®åŠ©ä½ ä»¥æ›´é«˜æ•ˆçš„æ–¹å¼å·¥ä½œã€‚",
      sentenceSample: "The new machine is efficient and saves a lot of time.",
      pattern: "ä¸»è¯­ + be + efficient and + åŠ¨è¯..."
    },
    {
      word: "convenient",
      phonetic: "/kÉ™nËˆviËniÉ™nt/",
      cn: "æ–¹ä¾¿çš„ï¼Œä¾¿åˆ©çš„",
      tag: "å½¢å®¹è¯ Â· æè¿°ä¾¿åˆ©",
      exampleEn: "Online shopping is convenient for busy people.",
      exampleCn: "ç½‘è´­å¯¹å¿™ç¢Œçš„äººæ¥è¯´å¾ˆæ–¹ä¾¿ã€‚",
      sentenceSample: "It is convenient for me to study English on this website.",
      pattern: "It is convenient for + äºº + to do..."
    },
    {
      word: "versatile",
      phonetic: "/ËˆvÉœËsÉ™taÉªl/",
      cn: "å¤šåŠŸèƒ½çš„ï¼Œå¤šæ‰å¤šè‰ºçš„",
      tag: "å½¢å®¹è¯ Â· æè¿°åŠŸèƒ½",
      exampleEn: "This tool is versatile and can be used in many situations.",
      exampleCn: "è¿™ä¸ªå·¥å…·ç”¨é€”å¹¿æ³›ï¼Œå¯ä»¥ç”¨åœ¨å¾ˆå¤šåœºæ™¯ã€‚",
      sentenceSample: "The tablet is versatile enough for both work and entertainment.",
      pattern: "ä¸»è¯­ + be + versatile enough for + åè¯."
    }
  ];

  // ===== å·¥å…·å‡½æ•° =====
  function randomIndex(max) {
    return Math.floor(Math.random() * max);
  }

  function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
  }

  function speakText(text, lang = "en-US") {
    if (!("speechSynthesis" in window)) {
      alert("å½“å‰æµè§ˆå™¨ä¸æ”¯æŒè¯­éŸ³æœ—è¯»åŠŸèƒ½ï¼ˆspeechSynthesisï¼‰ã€‚");
      return;
    }
    const utter = new SpeechSynthesisUtterance(text);
    utter.lang = lang;
    window.speechSynthesis.cancel(); // é˜²æ­¢å åŠ 
    window.speechSynthesis.speak(utter);
  }

  // ===== å•è¯å¡é€»è¾‘ =====
  let lastWordIndex = -1;
  let currentWord = vocabList[0];

  function renderWordCard(wordObj) {
    currentWord = wordObj;

    document.getElementById("word-en").textContent = wordObj.word;
    document.getElementById("word-phonetic").textContent = wordObj.phonetic;
    document.getElementById("word-cn").textContent = wordObj.cn;
    document.getElementById("word-tag").textContent = wordObj.tag;
    document.getElementById("example-en").textContent = wordObj.exampleEn;
    document.getElementById("example-cn").textContent = wordObj.exampleCn;
    document.getElementById("sentence-key").innerHTML =
      `<span>ç»“æ„ï¼š${wordObj.pattern}</span>`;
    document.getElementById("sentence-answer").textContent =
      "ç¤ºä¾‹å¥ï¼š" + wordObj.sentenceSample;
    document.getElementById("sentence-answer").style.display = "none";
  }

  function showRandomWord() {
    if (vocabList.length === 0) return;
    let idx = randomIndex(vocabList.length);
    if (vocabList.length > 1) {
      while (idx === lastWordIndex) {
        idx = randomIndex(vocabList.length);
      }
    }
    lastWordIndex = idx;
    renderWordCard(vocabList[idx]);
  }

  // ===== æµ‹éªŒé€»è¾‘ =====
  let currentQuizCorrect = null;

  function renderQuizQuestion() {
    if (vocabList.length === 0) return;

    const correctIdx = randomIndex(vocabList.length);
    const correctItem = vocabList[correctIdx];
    currentQuizCorrect = correctItem;

    const q = document.getElementById("quiz-question");
    q.innerHTML =
      `å“ªä¸ªè‹±æ–‡å•è¯å¯¹åº”ä¸‹é¢çš„ä¸­æ–‡æ„æ€ï¼Ÿ<br><strong>${correctItem.cn}</strong>`;

    // é€‰é¡¹ç´¢å¼•é›†åˆï¼šåŒ…å«æ­£ç¡® + 3 ä¸ªéšæœºé”™è¯¯
    const indices = new Set([correctIdx]);
    while (indices.size < Math.min(4, vocabList.length)) {
      indices.add(randomIndex(vocabList.length));
    }

    const optionIndices = shuffleArray(Array.from(indices));
    const optionsContainer = document.getElementById("quiz-options");
    optionsContainer.innerHTML = "";

    optionIndices.forEach(idx => {
      const btn = document.createElement("button");
      btn.className = "option-btn";
      btn.textContent = vocabList[idx].word;
      btn.addEventListener("click", () => {
        handleQuizAnswer(vocabList[idx], correctItem);
      });
      optionsContainer.appendChild(btn);
    });

    const result = document.getElementById("quiz-result");
    result.textContent = "";
    result.className = "quiz-result";
  }

  function handleQuizAnswer(chosenItem, correctItem) {
    const result = document.getElementById("quiz-result");
    if (chosenItem.word === correctItem.word) {
      result.textContent = "âœ… å›ç­”æ­£ç¡®ï¼" + `ã€Œ${correctItem.word}ã€å°±æ˜¯è¿™ä¸ªæ„æ€ï½`;
      result.className = "quiz-result correct";
    } else {
      result.textContent =
        `âŒ è¿™æ¬¡é€‰é”™å•¦ã€‚æ­£ç¡®ç­”æ¡ˆæ˜¯ã€Œ${correctItem.word}ã€ã€‚å¤šçœ‹å‡ éå°±è®°ä½äº†ï¼`;
      result.className = "quiz-result wrong";
    }
  }

  // ===== é€ å¥åŒºäº‹ä»¶ =====
  function initSentenceArea() {
    const btnShowSample = document.getElementById("btn-show-sample");
    const btnClear = document.getElementById("btn-clear-sentence");
    const btnSpeakMySentence = document.getElementById("btn-speak-my-sentence");
    const sentenceAnswer = document.getElementById("sentence-answer");
    const input = document.getElementById("sentence-input");

    btnShowSample.addEventListener("click", () => {
      if (sentenceAnswer.style.display === "none" || sentenceAnswer.style.display === "") {
        sentenceAnswer.style.display = "block";
      } else {
        sentenceAnswer.style.display = "none";
      }
    });

    btnClear.addEventListener("click", () => {
      input.value = "";
    });

    btnSpeakMySentence.addEventListener("click", () => {
      const text = input.value.trim();
      if (!text) {
        alert("å…ˆå†™ä¸€å¥è‹±æ–‡å¥å­å†æœ—è¯»å“¦ï½");
        return;
      }
      speakText(text, "en-US");
    });
  }

  // ===== åˆå§‹åŒ– =====
  document.addEventListener("DOMContentLoaded", () => {
    // åˆå§‹å•è¯ & å¥å­
    renderWordCard(vocabList[0]);
    initSentenceArea();

    // æŒ‰é’®äº‹ä»¶
    document.getElementById("btn-refresh-word")
      .addEventListener("click", showRandomWord);

    document.getElementById("btn-speak-word")
      .addEventListener("click", () => {
        speakText(currentWord.word, "en-US");
      });

    document.getElementById("btn-speak-sentence")
      .addEventListener("click", () => {
        speakText(currentWord.exampleEn, "en-US");
      });

    // æµ‹éªŒ
    document.getElementById("btn-new-question")
      .addEventListener("click", renderQuizQuestion);

    document.getElementById("btn-show-explain")
      .addEventListener("click", () => {
        if (!currentQuizCorrect) return;
        alert(
          `è‹±æ–‡ï¼š${currentQuizCorrect.word}\néŸ³æ ‡ï¼š${currentQuizCorrect.phonetic}\nä¸­æ–‡ï¼š${currentQuizCorrect.cn}\n\nä¾‹å¥ï¼š\n${currentQuizCorrect.exampleEn}\n${currentQuizCorrect.exampleCn}`
        );
      });

    document.getElementById("btn-speak-question")
      .addEventListener("click", () => {
        if (!currentQuizCorrect) return;
        const text =
          `Which English word matches this meaning: ${currentQuizCorrect.cn}?`;
        speakText(text, "en-US");
      });

    // åˆå§‹ç”Ÿæˆä¸€é¢˜
    renderQuizQuestion();
  });
</script>
</body>
</html>
